import{d as e,h as a,a1 as l,R as t,S as o,n as s,ah as d,o as u,b as i,Y as n,W as r,a8 as m}from"./vue.1709626208081.js";import{b as p,E as c,r as f}from"./index.1709626208081.js";import{r as v}from"./validator.1709626208081.js";const V={"class":"dialog-footer"},y=e({__name:"list-form",emits:["getList"],setup(e,{expose:y,emit:_}){const b=_,h=a(!1),k=a(),g={parentId:-1,id:void 0,menuId:0,name:"",code:"",description:"",status:1},w=l({...g}),x={name:[v("字段名称不能为空")],code:[v("字段key不能为空")]},j=async()=>{await k.value.validate(),w.parentId||(w.parentId=-1);const e=w.id?p.menu.list.edit:p.menu.list.add;await e(w),c.success("操作成功"),f(),U(),h.value=!1,b("getList")},U=async()=>{Object.assign(w,{...g}),k.value&&k.value.resetFields()};return y({open:async e=>{U(),h.value=!0,s((()=>{Object.assign(w,{...e})}))}}),(e,a)=>{const l=d("el-input"),s=d("el-form-item"),p=d("el-switch"),c=d("el-form"),f=d("el-button"),v=d("el-dialog");return u(),t(v,{modelValue:h.value,"onUpdate:modelValue":a[5]||(a[5]=e=>h.value=e),title:""+(w.id?"编辑显示列":"新增显示列"),width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:o((()=>[i("div",V,[n(f,{onClick:a[4]||(a[4]=e=>h.value=!1)},{"default":o((()=>[r("取消")])),_:1}),n(f,{type:"primary",onClick:j},{"default":o((()=>[r("确定")])),_:1})])])),"default":o((()=>[n(c,{ref_key:"formRef",ref:k,model:w,rules:x,"label-width":"80px",onKeyup:m(j,["enter","native"])},{"default":o((()=>[n(s,{label:"字段名称",prop:"name"},{"default":o((()=>[n(l,{modelValue:w.name,"onUpdate:modelValue":a[0]||(a[0]=e=>w.name=e),placeholder:"字段名称"},null,8,["modelValue"])])),_:1}),n(s,{label:"字段key",prop:"code"},{"default":o((()=>[n(l,{modelValue:w.code,"onUpdate:modelValue":a[1]||(a[1]=e=>w.code=e),placeholder:"输入字段key"},null,8,["modelValue"])])),_:1}),n(s,{label:"状态",prop:"status"},{"default":o((()=>[n(p,{modelValue:w.status,"onUpdate:modelValue":a[2]||(a[2]=e=>w.status=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),n(s,{label:"说明",prop:"description"},{"default":o((()=>[n(l,{modelValue:w.description,"onUpdate:modelValue":a[3]||(a[3]=e=>w.description=e),type:"textarea",rows:6},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}});export{y as default};