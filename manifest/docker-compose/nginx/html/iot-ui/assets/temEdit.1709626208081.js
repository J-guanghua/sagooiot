import{a as e}from"./index.170962620808123.js";import{_ as l,t as o,C as a,v as t,D as r,F as i,w as s,x as d,E as n}from"./index.1709626208081.js";import{d as u,h as m,a1 as c,aa as g,a as f,Y as p,S as h,e as F,ah as b,o as w,b as y,W as V}from"./vue.1709626208081.js";const D=u({name:"Edit",components:{Delete:o,Plus:a,CircleClose:t,Minus:r,Right:i,Top:s,Bottom:d},setup(l,{emit:o}){const a=m(null),t=m(null),r=c({id:0,configData:[],isShowDialog:!1,configId:"",sendGateway:"",ruleForm:{code:"",title:"",content:"",sendGateway:"",configId:""},rules:{code:[{required:!0,message:"模版代码不能为空",trigger:"blur"}],title:[{required:!0,message:"配置名称不能为空",trigger:"blur"}],configId:[{required:!0,message:"通知配置不能为空",trigger:"blur"}],types:[{required:!0,message:"配置类型不能为空",trigger:"blur"}],content:[{required:!0,message:"模板内容不能为空",trigger:"blur"}]}}),i=()=>{r.ruleForm={code:"",title:"",content:""}},s=()=>{r.isShowDialog=!1};return{openDialog:(e,l)=>{},opentemDialog:(l,o)=>{i(),l&&e.template.configIddetail(l).then((e=>{r.ruleForm=e||[]})),r.configId=l,r.sendGateway=o,r.isShowDialog=!0},closeDialog:s,onCancel:()=>{s()},onSubmit:()=>{const l=F(t);l&&l.validate((l=>{l&&(r.ruleForm.sendGateway=r.sendGateway,r.ruleForm.configId=r.configId,e.template.save(r.ruleForm).then((()=>{n.success("配置修改成功"),s(),o("typeList")})))}))},formRef:t,myRef:a,...g(r)}}}),_={"class":"system-edit-dic-container"},C={"class":"dialog-footer"};var I=l(D,[["render",function(e,l,o,a,t,r){const i=b("el-input"),s=b("el-form-item"),d=b("el-form"),n=b("el-button"),u=b("el-dialog");return w(),f("div",_,[p(u,{title:"设置配置模板",modelValue:e.isShowDialog,"onUpdate:modelValue":l[3]||(l[3]=l=>e.isShowDialog=l),width:"50%"},{footer:h((()=>[y("span",C,[p(n,{onClick:e.onCancel},{"default":h((()=>[V("取 消")])),_:1},8,["onClick"]),p(n,{type:"primary",onClick:e.onSubmit},{"default":h((()=>[V("设置")])),_:1},8,["onClick"])])])),"default":h((()=>[p(d,{model:e.ruleForm,ref:"formRef",rules:e.rules,"label-width":"110px"},{"default":h((()=>[p(s,{label:"模版代码",prop:"code"},{"default":h((()=>[p(i,{modelValue:e.ruleForm.code,"onUpdate:modelValue":l[0]||(l[0]=l=>e.ruleForm.code=l),modelModifiers:{trim:!0},placeholder:"请输入代码"},null,8,["modelValue"])])),_:1}),p(s,{label:"模版名称",prop:"title"},{"default":h((()=>[p(i,{modelValue:e.ruleForm.title,"onUpdate:modelValue":l[1]||(l[1]=l=>e.ruleForm.title=l),modelModifiers:{trim:!0},placeholder:"请输入名称"},null,8,["modelValue"])])),_:1}),p(s,{label:"模板内容",prop:"content"},{"default":h((()=>[p(i,{modelValue:e.ruleForm.content,"onUpdate:modelValue":l[2]||(l[2]=l=>e.ruleForm.content=l),modelModifiers:{trim:!0},type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}],["__scopeId","data-v-008e8d53"]]);export{I as default};