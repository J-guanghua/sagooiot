import{d as a,h as e,a1 as t,k as l,aa as n,a as o,Y as i,S as r,ah as s,ar as p,o as d,V as c,T as g,R as u,W as m,Z as b}from"./vue.1709626208081.js";import{_ as h,b as f,h as w,E as D}from"./index.1709626208081.js";const k=a({name:"online",setup(){const a=e(),o=t({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:10,dateRange:[]}}}),i=()=>{o.tableData.loading=!0,f.online.getList(o.tableData.param).then((a=>{o.tableData.data=a.list,o.tableData.total=a.total}))["finally"]((()=>o.tableData.loading=!1))};l((()=>{i()}));return{queryRef:a,dataList:i,resetQuery:a=>{a&&(a.resetFields(),i())},handleForceLogout:a=>{w.confirm("你确定要强制退出所选数据？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{f.online.strongBack(a.id).then((()=>{D.success("清除成功"),i()}))}))["catch"]((()=>{}))},...n(o)}}}),x={"class":"page"};var v=h(k,[["render",function(a,e,t,l,n,h){s("el-date-picker"),s("el-form-item"),s("ele-Search"),s("el-icon");const f=s("el-button"),w=(s("ele-Refresh"),s("el-form"),s("el-table-column")),D=s("el-table"),k=s("pagination"),v=s("el-card"),y=p("col"),L=p("auth"),N=p("loading");return d(),o("div",x,[i(v,{shadow:"nover"},{"default":r((()=>[c("",!0),g((d(),u(D,{data:a.tableData.data,style:{width:"100%"}},{"default":r((()=>[i(w,{label:"编号",align:"center",width:"100",prop:"id"}),g(i(w,{label:"用户名",width:"100",align:"center",prop:"userName"},null,512),[[y,"userName"]]),i(w,{label:"token",align:"center",prop:"token","show-overflow-tooltip":""}),g(i(w,{label:"登录地址",align:"center",prop:"ip",width:"160"},null,512),[[y,"ip"]]),i(w,{label:"登录时间",align:"center",prop:"createdAt",width:"160"}),i(w,{label:"浏览器",align:"center",prop:"explorer"}),g(i(w,{label:"操作系统","show-overflow-tooltip":"",align:"center",prop:"os"},null,512),[[y,"os"]]),g((d(),u(w,{label:"操作",align:"center","class-name":"small-padding fixed-width",width:"100"},{"default":r((e=>[g((d(),u(f,{type:"text",onClick:t=>a.handleForceLogout(e.row)},{"default":r((()=>[m("强退")])),_:2},1032,["onClick"])),[[L,"out"]])])),_:1})),[[y,"handle"]])])),_:1},8,["data"])),[[N,a.tableData.loading]]),g(i(k,{total:a.tableData.total,page:a.tableData.param.pageNum,"onUpdate:page":e[2]||(e[2]=e=>a.tableData.param.pageNum=e),limit:a.tableData.param.pageSize,"onUpdate:limit":e[3]||(e[3]=e=>a.tableData.param.pageSize=e),onPagination:a.dataList},null,8,["total","page","limit","onPagination"]),[[b,a.tableData.total>0]])])),_:1})])}]]);export{v as default};