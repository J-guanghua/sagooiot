import e from"./editItem.1709626208081.js";import t from"./detailItem.1709626208081.js";import{a}from"./index.170962620808141.js";import{_ as l,h as o,E as n}from"./index.1709626208081.js";import{d as i,h as d,a1 as s,k as r,aa as m,a as p,Y as c,S as u,ah as f,ar as h,o as g,b as I,T as D,R as b,W as w}from"./vue.1709626208081.js";import"./addSign.1709626208081.js";import"./setTask.1709626208081.js";const _=i({name:"systemUser",components:{EditOrAddItem:e,DetailItem:t},setup(){const e=d(),t=d(),l=s({tableData:{data:[],total:0,loading:!1,param:{page:1,pageSize:10}}}),i=()=>{l.tableData.loading=!0,a.getList().then((e=>{l.tableData.data=e}))["finally"]((()=>l.tableData.loading=!1))};return r((()=>{i()})),{EditOrAddItem:e,detailItemRef:t,onOpenAddItem:()=>{e.value.openDialog()},onOpenEditItem:t=>{e.value.openDialog(t)},onOpenDetailItem:e=>{t.value.openDialog(e)},onRowDel:e=>{o.confirm(`此操作将永久删除指数：“${e.title}”，是否继续?`,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{a.deleteItem({itemcode:e.item_code}).then((()=>{i(),n.success("删除成功")}))}))["catch"]((()=>{}))},onHandleSizeChange:e=>{l.tableData.param.pageSize=e},onHandleCurrentChange:e=>{l.tableData.param.page=e},fetchList:i,...m(l)}}}),v={"class":"page"},C={"class":"system-user-search mb15"};var k=l(_,[["render",function(e,t,a,l,o,n){const i=f("ele-FolderAdd"),d=f("el-icon"),s=f("el-button"),r=f("el-table-column"),m=f("el-table"),_=f("el-card"),k=f("EditOrAddItem"),x=f("DetailItem"),y=h("auth"),O=h("col"),j=h("loading");return g(),p("div",v,[c(_,{shadow:"nover"},{"default":u((()=>[I("div",C,[D((g(),b(s,{type:"primary","class":"ml10",onClick:e.onOpenAddItem},{"default":u((()=>[c(d,null,{"default":u((()=>[c(i)])),_:1}),w(" 新建 ")])),_:1},8,["onClick"])),[[y,"add"]])]),D((g(),b(m,{data:e.tableData.data,style:{width:"100%"}},{"default":u((()=>[D(c(r,{align:"left",prop:"title",label:"名称",width:"260","show-overflow-tooltip":""},null,512),[[O,"title"]]),D(c(r,{align:"left",prop:"explain",label:"描述","show-overflow-tooltip":""},null,512),[[O,"explain"]]),D((g(),b(r,{align:"center",label:"操作",width:"180"},{"default":u((t=>[D((g(),b(s,{size:"small",type:"text",onClick:a=>e.onOpenEditItem(t.row)},{"default":u((()=>[w("编辑")])),_:2},1032,["onClick"])),[[y,"edit"]]),D((g(),b(s,{size:"small",type:"text",onClick:a=>e.onRowDel(t.row)},{"default":u((()=>[w("删除")])),_:2},1032,["onClick"])),[[y,"del"]]),D((g(),b(s,{size:"small",type:"text",onClick:a=>e.onOpenDetailItem(t.row)},{"default":u((()=>[w("详细信息")])),_:2},1032,["onClick"])),[[y,"detail"]])])),_:1})),[[O,"handle"]])])),_:1},8,["data"])),[[j,e.tableData.loading]])])),_:1}),c(k,{ref:"EditOrAddItem",onFetchList:e.fetchList},null,8,["onFetchList"]),c(x,{ref:"detailItemRef"},null,512)])}],["__scopeId","data-v-eaec49c6"]]);export{k as default};