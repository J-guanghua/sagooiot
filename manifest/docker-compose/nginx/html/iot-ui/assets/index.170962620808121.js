import{d as a,h as t,a1 as e,k as l,aa as s,a as n,Y as i,S as d,T as o,Z as r,ah as c,ar as u,o as p,R as m,W as g,F as b,a7 as f,b as v,X as D,V as y,aA as h,aB as k}from"./vue.1709626208081.js";import _ from"./edit.17096262080814.js";import{a as x}from"./index.170962620808110.js";import{_ as C,E as R,h as w}from"./index.1709626208081.js";import"./index.17096262080819.js";import"./index.170962620808122.js";import"./index.170962620808123.js";const j=a({name:"setlist",components:{EditDic:_},setup(){const a=t(),n=t(),i=t(),d=t(),o=t(),r=e({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:20,name:"",level:"",triggerType:""}}}),c=()=>{r.tableData.loading=!0,x.common.getList(r.tableData.param).then((a=>{r.tableData.data=a.list,r.tableData.total=a.Total}))["finally"]((()=>r.tableData.loading=!1))};l((()=>{c()}));return{onActionStatus:a=>{0===a.status?x.common.deploy({id:a.id}).then((()=>{c()})):x.common.undeploy({id:a.id}).then((()=>{c()}))},addDicRef:a,editDicRef:i,detailRef:d,queryRef:o,levelDicRef:n,onOpenRecord:a=>{d.value.openDialog(a)},onOpenAdd:()=>{i.value.openDialog()},onOpenEdit:a=>{i.value.openDialog({...a})},onRowDel:a=>{let t="你确定要删除所选数据？";(null==a?void 0:a.id)?(t=`此操作将永久删除告警：“${a.name}”，是否继续?`,w.confirm(t,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{x.common["delete"](a.id).then((()=>{R.success("删除成功"),c()}))}))):R.error("请选择要删除的数据。")},dataList:c,resetQuery:a=>{a&&(a.resetFields(),c())},...s(r)}}}),A=a=>(h("data-v-0aa46758"),a=a(),k(),a),L={"class":"page padding bg page-full"},S={"class":"card"},E={"class":"ant-card"},T={"class":"ant-card-body"},O={"class":"pro-table-card-item"},N={"class":"card-item-avatar"},z=[A((()=>v("img",{width:"88",height:"88",src:"/assets/alarm.1709626208081.svg"},null,-1)))],B={"class":"card-item-body"},F={"class":"card-item-header"},q={"class":"ellipsis card-item-header-name",style:{width:"100%",height:"45px"}},P={"class":"card-item-content"},U=A((()=>v("div",null,[
v("label",null,"触发："),
v("div",null,[
v("div",null,"级别：")])],-1))),I={key:0,"class":"card-state success"},Q=[A((()=>v("div",{"class":"card-state-content"},[
v("span",{"class":"ant-badge ant-badge-status ant-badge-not-a-wrapper"},[
v("span",{"class":"ant-badge-status-dot ant-badge-status-success"}),
v("span",{"class":"ant-badge-status-text"},"已启用")])],-1)))],V={key:1,"class":"card-state error"},W=[A((()=>v("div",{"class":"card-state-content"},[
v("span",{"class":"ant-badge ant-badge-status ant-badge-not-a-wrapper"},[
v("span",{"class":"ant-badge-status-dot ant-badge-status-error"}),
v("span",{"class":"ant-badge-status-text"},"未启用")])],-1)))],X={"class":"card-tools"};var Y=C(j,[["render",function(a,t,e,l,s,h){const k=c("ele-FolderAdd"),_=c("el-icon"),x=c("el-button"),C=c("el-form-item"),R=c("el-form"),w=c("el-divider"),j=c("ele-Edit"),A=c("ele-Check"),Y=c("ele-Close"),Z=c("ele-Delete"),$=c("el-col"),G=c("el-row"),H=c("pagination"),J=c("EditDic"),K=u("auth"),M=u("col");return p(),n("div",L,[i(R,{model:a.tableData.param,ref:"queryRef",inline:""},{"default":d((()=>[i(C,{"class":"mb-0"},{"default":d((()=>[o((p(),m(x,{type:"primary",onClick:a.onOpenAdd},{"default":d((()=>[i(_,null,{"default":d((()=>[i(k)])),_:1}),g(" 新增告警 ")])),_:1},8,["onClick"])),[[K,"add"]])])),_:1})])),_:1},8,["model"]),i(w,{"class":"my-5"}),i(G,{"class":"page-full-part"},{"default":d((()=>[(p(!0),n(b,null,f(a.tableData.data,((t,e)=>(p(),m($,{span:6,key:e},{"default":d((()=>[v("div",S,[v("div",E,[v("div",T,[v("div",O,[o((p(),n("div",N,z)),[[M,"image"]]),v("div",B,[v("div",F,[o((p(),n("div",null,[v("div",q,D(t.name),1)])),[[M,"name"]])]),o((p(),n("div",P,[U,v("div",null,[v("label",null,D(t.triggerTypeName),1),v("div",null,[v("div",null,D(t.alarmLevel.name),1)])])])),[[M,"alarm"]])])]),1==t.status?o((p(),n("div",I,Q)),[[M,"liststatus"]]):y("",!0),0==t.status?o((p(),n("div",V,W)),[[M,"liststatus"]]):y("",!0)])]),v("div",X,[o((p(),m(x,{type:"primary",text:"",bg:"",onClick:e=>a.onOpenEdit(t)},{"default":d((()=>[i(_,null,{"default":d((()=>[i(j)])),_:1}),g(" 修改 ")])),_:2},1032,["onClick"])),[[K,"edit"]]),0==t.status?o((p(),m(x,{key:0,type:"warning",text:"",bg:"",onClick:e=>a.onActionStatus(t)},{"default":d((()=>[i(_,null,{"default":d((()=>[i(A)])),_:1}),g(" 启用 ")])),_:2},1032,["onClick"])),[[K,"status"]]):y("",!0),1==t.status?o((p(),m(x,{key:1,type:"info",text:"",bg:"",onClick:e=>a.onActionStatus(t)},{"default":d((()=>[i(_,null,{"default":d((()=>[i(Y)])),_:1}),g(" 禁用 ")])),_:2},1032,["onClick"])),[[K,"status"]]):y("",!0),o((p(),m(x,{type:"info",text:"",bg:"",onClick:e=>a.onRowDel(t)},{"default":d((()=>[i(_,null,{"default":d((()=>[i(Z)])),_:1}),g(" 删除 ")])),_:2},1032,["onClick"])),[[K,"del"]])])])])),_:2},1024)))),128))])),_:1}),o(i(H,{total:a.tableData.total,page:a.tableData.param.pageNum,"onUpdate:page":t[0]||(t[0]=t=>a.tableData.param.pageNum=t),limit:a.tableData.param.pageSize,"onUpdate:limit":t[1]||(t[1]=t=>a.tableData.param.pageSize=t),onPagination:a.dataList},null,8,["total","page","limit","onPagination"]),[[r,a.tableData.total>0]]),i(J,{ref:"editDicRef",onDataList:a.dataList},null,8,["onDataList"])])}],["__scopeId","data-v-0aa46758"]]);export{Y as default};