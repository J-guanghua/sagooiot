import{a as e}from"./index.170962620808122.js";import{_ as l,E as a}from"./index.1709626208081.js";import{d as o,h as r,a1 as t,aa as u,a as d,Y as s,S as m,e as i,ah as p,o as n,b as c,W as f,X as g,F as y,a7 as b,R as F}from"./vue.1709626208081.js";const V=o({name:"deviceEditPro",setup(l,{emit:o}){const d=r(null),s=t({isShowDialog:!1,typeData:[],ruleForm:{id:0,name:"",key:"",transportProtocol:"",accessMode:"1",status:1,desc:""},rules:{name:[{required:!0,message:"功能定义名称不能为空",trigger:"blur"}],key:[{required:!0,message:"功能定义标识不能为空",trigger:"blur"}],accessMode:[{required:!0,message:"功能定义分类不能为空",trigger:"blur"}],deptId:[{required:!0,message:"所属组织不能为空",trigger:"blur"}],deviceType:[{required:!0,message:"设备类型不能为空",trigger:"blur"}]}}),m=()=>{s.ruleForm={id:0,name:"",dictType:"",status:1,desc:""}},p=()=>{s.isShowDialog=!1};return{openDialog:l=>{m(),e.product.getDataType({status:-1}).then((e=>{s.typeData=e.dataType||[]})),l&&(s.ruleForm=l),s.isShowDialog=!0},closeDialog:p,onCancel:()=>{p()},onSubmit:()=>{const l=i(d);l&&l.validate((l=>{l&&(0!==s.ruleForm.id?e.product.edit(s.ruleForm).then((()=>{a.success("功能定义类型修改成功"),p(),o("typeList")})):e.product.add(s.ruleForm).then((()=>{a.success("功能定义类型添加成功"),p(),o("typeList")})))}))},formRef:d,...u(s)}}}),_={"class":"system-edit-dic-container"},h={"class":"dialog-footer"};var v=l(V,[["render",function(e,l,a,o,r,t){const u=p("el-input"),i=p("el-form-item"),V=p("el-option"),v=p("el-option-group"),k=p("el-select"),D=p("el-radio"),S=p("el-radio-group"),w=p("el-form"),T=p("el-button"),x=p("el-dialog");return n(),d("div",_,[s(x,{title:(0!==e.ruleForm.id?"修改":"添加")+"功能定义",modelValue:e.isShowDialog,"onUpdate:modelValue":l[5]||(l[5]=l=>e.isShowDialog=l),width:"769px"},{footer:m((()=>[c("span",h,[s(T,{onClick:e.onCancel},{"default":m((()=>[f("取 消")])),_:1},8,["onClick"]),s(T,{type:"primary",onClick:e.onSubmit},{"default":m((()=>[f(g(0!==e.ruleForm.id?"修 改":"添 加"),1)])),_:1},8,["onClick"])])])),"default":m((()=>[s(w,{model:e.ruleForm,ref:"formRef",rules:e.rules,"label-width":"120px"},{"default":m((()=>[s(i,{label:"功能定义标识",prop:"key"},{"default":m((()=>[s(u,{modelValue:e.ruleForm.key,"onUpdate:modelValue":l[0]||(l[0]=l=>e.ruleForm.key=l),placeholder:"请输入功能定义标识"},null,8,["modelValue"])])),_:1}),s(i,{label:"功能定义名称",prop:"name"},{"default":m((()=>[s(u,{modelValue:e.ruleForm.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.ruleForm.name=l),placeholder:"请输入功能定义名称"},null,8,["modelValue"])])),_:1}),s(i,{label:"数据类型",prop:"valueType"},{"default":m((()=>[s(k,{modelValue:e.ruleForm.valueType,"onUpdate:modelValue":l[2]||(l[2]=l=>e.ruleForm.valueType=l),placeholder:"请选择数据类型"},{"default":m((()=>[(n(!0),d(y,null,b(e.typeData,(e=>(n(),F(v,{key:e,label:e},{"default":m((()=>[(n(!0),d(y,null,b(e.options,(e=>(n(),F(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(i,{label:"是否只读",prop:"accessMode"},{"default":m((()=>[s(S,{modelValue:e.ruleForm.accessMode,"onUpdate:modelValue":l[3]||(l[3]=l=>e.ruleForm.accessMode=l)},{"default":m((()=>[s(D,{label:"1"},{"default":m((()=>[f("只读")])),_:1}),s(D,{label:"0"},{"default":m((()=>[f("读写")])),_:1})])),_:1},8,["modelValue"])])),_:1}),s(i,{label:"功能定义描述\t",prop:"desc"},{"default":m((()=>[s(u,{modelValue:e.ruleForm.desc,"onUpdate:modelValue":l[4]||(l[4]=l=>e.ruleForm.desc=l),type:"textarea",placeholder:"请输入功能定义描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["title","modelValue"])])}],["__scopeId","data-v-65409276"]]);export{v as default};