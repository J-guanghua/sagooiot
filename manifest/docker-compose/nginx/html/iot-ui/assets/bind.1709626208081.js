import{d as e,h as a,a1 as l,R as s,S as t,ah as o,o as u,b as d,Y as i,W as n,a8 as m}from"./vue.1709626208081.js";import{b as r,E as c}from"./index.1709626208081.js";const p={"class":"dialog-footer"},f=e({__name:"bind",emits:["getList"],setup(e,{expose:f,emit:v}){const b=a([]),h=v,y=a(!1),_=a(),I=a([]),g=l({menuIds:[]}),V={};r.menu.getList({status:-1}).then((e=>{I.value=e}));const k=async()=>{await _.value.validate(),await r.api.bindMenus(b.value.map((e=>({id:e,menuIds:g.menuIds})))),c.success("操作成功"),w(),y.value=!1,h("getList")},w=async()=>{Object.assign(g,{menuIds:[]}),_.value&&_.value.resetFields()};return f({open:async e=>{w(),b.value=e,y.value=!0}}),(e,a)=>{const l=o("el-cascader"),r=o("el-form-item"),c=o("el-form"),f=o("el-button"),v=o("el-dialog");return u(),s(v,{"class":"api-edit",modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e),title:"批量关联菜单",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t((()=>[d("div",p,[i(f,{onClick:a[1]||(a[1]=e=>y.value=!1)},{"default":t((()=>[n("取消")])),_:1}),i(f,{type:"primary",onClick:k},{"default":t((()=>[n("确定")])),_:1})])])),"default":t((()=>[i(c,{ref_key:"formRef",ref:_,model:g,rules:V,"label-width":"80px",onKeyup:m(k,["enter"])},{"default":t((()=>[i(r,{label:"关联页面",prop:"menuIds"},{"default":t((()=>[i(l,{options:I.value,props:{checkStrictly:!0,multiple:!0,emitPath:!1,value:"id",label:"title"},placeholder:"请选择关联页面",filterable:"",clearable:"","class":"w100",modelValue:g.menuIds,"onUpdate:modelValue":a[0]||(a[0]=e=>g.menuIds=e)},null,8,["options","modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}});export{f as default};