import{d as a,h as e,a1 as l,k as t,aa as o,a as n,Y as i,S as s,j as d,ah as p,ar as c,o as u,a8 as r,F as f,a7 as g,R as m,W as b,T as y,X as D,Z as h}from"./vue.1709626208081.js";import _ from"./editConfig.1709626208081.js";import{_ as w,b as C,E as v,h as L}from"./index.1709626208081.js";const V=a({name:"apiV1SystemDictDataList",components:{EditConfig:_},setup(){const{proxy:a}=d(),n=e(),i=e(),s=e(),{sys_yes_no:p}=a.useDict("sys_yes_no"),c=e([{dictLabel:"全部",dictValue:""}]),u=l({ids:[],tableData:{data:[],total:0,loading:!1,param:{dateRange:[],pageNum:1,pageSize:10,configName:"",configKey:"",configType:"",moduleClassify:""}}});t((()=>{r()}));const r=()=>{g()},f=()=>{u.tableData.loading=!0,C.config.getList(u.tableData.param).then((a=>{u.tableData.data=a.list,u.tableData.total=a.total}))["finally"]((()=>u.tableData.loading=!1))},g=()=>{u.tableData.loading=!0,C.dict.getDataList({dictType:"param_class_type",status:1,pageNum:1,pageSize:50,defaultValue:""}).then((a=>{c.value=c.value.concat(a.list),f()}))["finally"]((()=>u.tableData.loading=!1))};return{addDicRef:n,editDicRef:i,queryRef:s,sys_yes_no:p,tabDataList:c,onOpenAddDic:()=>{i.value.openDialog()},onOpenEditDic:a=>{i.value.openDialog(a)},onRowDel:a=>{let e="你确定要删除所选数据？",l=[];a?(e=`此操作将永久删除用户：“${a.configName}”，是否继续?`,l=[a.configId]):l=u.ids,0!==l.length?L.confirm(e,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{C.config.del(l).then((()=>{v.success("删除成功"),f()}))}))["catch"]((()=>{})):v.error("请选择要删除的数据。")},dataList:f,resetQuery:a=>{a&&(a.resetFields(),f())},handleSelectionChange:a=>{u.ids=a.map((a=>a.configId))},...o(u)}}}),k={"class":"page"};var N=w(V,[["render",function(a,e,l,t,o,d){const _=p("el-input"),w=p("el-form-item"),C=p("el-option"),v=p("el-select"),L=p("ele-Search"),V=p("el-icon"),N=p("el-button"),T=p("ele-Refresh"),R=p("ele-FolderAdd"),S=p("ele-Delete"),x=p("el-form"),z=p("el-tab-pane"),O=p("el-tabs"),E=p("el-table-column"),I=p("el-table"),K=p("pagination"),U=p("el-card"),j=p("EditConfig"),q=c("auth"),A=c("col"),F=c("loading");return u(),n("div",k,[i(U,{shadow:"nover"},{"default":s((()=>[i(x,{model:a.tableData.param,ref:"queryRef",inline:"","label-width":"68px"},{"default":s((()=>[i(w,{label:"参数名称",prop:"configName"},{"default":s((()=>[i(_,{modelValue:a.tableData.param.configName,"onUpdate:modelValue":e[0]||(e[0]=e=>a.tableData.param.configName=e),placeholder:"请输入参数名称",clearable:"",onKeyup:r(a.dataList,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),i(w,{label:"系统内置",prop:"configType"},{"default":s((()=>[i(v,{modelValue:a.tableData.param.configType,"onUpdate:modelValue":e[1]||(e[1]=e=>a.tableData.param.configType=e),placeholder:"系统内置",clearable:"",style:{width:"240px"}},{"default":s((()=>[(u(!0),n(f,null,g(a.sys_yes_no,(a=>(u(),m(C,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(w,null,{"default":s((()=>[i(N,{type:"primary","class":"ml10",onClick:a.dataList},{"default":s((()=>[i(V,null,{"default":s((()=>[i(L)])),_:1}),b(" 查询 ")])),_:1},8,["onClick"]),i(N,{onClick:e[2]||(e[2]=e=>a.resetQuery(a.queryRef))},{"default":s((()=>[i(V,null,{"default":s((()=>[i(T)])),_:1}),b(" 重置 ")])),_:1}),y((u(),m(N,{type:"primary","class":"ml10",onClick:a.onOpenAddDic},{"default":s((()=>[i(V,null,{"default":s((()=>[i(R)])),_:1}),b(" 新增参数 ")])),_:1},8,["onClick"])),[[q,"add"]]),y((u(),m(N,{type:"info","class":"ml10",onClick:e[3]||(e[3]=e=>a.onRowDel())},{"default":s((()=>[i(V,null,{"default":s((()=>[i(S)])),_:1}),b(" 删除参数 ")])),_:1})),[[q,"del"]])])),_:1})])),_:1},8,["model"]),i(O,{modelValue:a.tableData.param.moduleClassify,"onUpdate:modelValue":e[4]||(e[4]=e=>a.tableData.param.moduleClassify=e),onTabChange:a.dataList},{"default":s((()=>[(u(!0),n(f,null,g(a.tabDataList,(a=>(u(),m(z,{label:a.dictLabel,name:a.dictValue},null,8,["label","name"])))),256))])),_:1},8,["modelValue","onTabChange"]),y((u(),m(I,{data:a.tableData.data,style:{width:"100%"},onSelectionChange:a.handleSelectionChange},{"default":s((()=>[i(E,{type:"selection",width:"55",align:"center"}),y(i(E,{label:"ID",align:"center",prop:"configId",width:"100"},null,512),[[A,"configId"]]),y(i(E,{label:"参数名称",prop:"configName","show-overflow-tooltip":""},null,512),[[A,"configName"]]),y(i(E,{label:"参数键名",prop:"configKey","show-overflow-tooltip":""},null,512),[[A,"configKey"]]),y(i(E,{label:"参数键值",prop:"configValue"},null,512),[[A,"configValue"]]),y(i(E,{label:"备注",prop:"remark","show-overflow-tooltip":""},null,512),[[A,"remark"]]),y((u(),m(E,{label:"系统内置",align:"center",prop:"configType",width:"100"},{"default":s((({row:a})=>[b(D(a.configType?"是":"否"),1)])),_:1})),[[A,"configType"]]),y((u(),m(E,{label:"操作",width:"100",align:"center",fixed:"right"},{"default":s((e=>[y((u(),m(N,{size:"small",text:"",type:"warning",onClick:l=>a.onOpenEditDic(e.row)},{"default":s((()=>[b("修改")])),_:2},1032,["onClick"])),[[q,"edit"]]),y((u(),m(N,{size:"small",text:"",type:"info",onClick:l=>a.onRowDel(e.row)},{"default":s((()=>[b("删除")])),_:2},1032,["onClick"])),[[q,"del"]])])),_:1})),[[A,"handle"]])])),_:1},8,["data","onSelectionChange"])),[[F,a.tableData.loading]]),y(i(K,{total:a.tableData.total,page:a.tableData.param.pageNum,"onUpdate:page":e[5]||(e[5]=e=>a.tableData.param.pageNum=e),limit:a.tableData.param.pageSize,"onUpdate:limit":e[6]||(e[6]=e=>a.tableData.param.pageSize=e),onPagination:a.dataList},null,8,["total","page","limit","onPagination"]),[[h,a.tableData.total>0]])])),_:1}),i(j,{ref:"editDicRef",onDataList:a.dataList,sysYesNoOptions:a.sys_yes_no},null,8,["onDataList","sysYesNoOptions"])])}]]);export{N as default};