import{d as e,h as a,a1 as l,R as t,S as o,n as s,ah as d,o as n,b as u,Y as p,W as r,a8 as i}from"./vue.1709105786614.js";import{b as m,E as c}from"./index.1709105786614.js";import{r as f}from"./validator.1709105786614.js";const v={"class":"dialog-footer"},V=e({__name:"btn-form",props:{parentData:Array},emits:["getList"],setup(e,{expose:V,emit:b}){const y=b,_=a(!1),h=a(),w={parentId:-1,id:void 0,menuId:0,name:"",types:"",description:"",status:1},I=l({...w}),g={name:[f("按钮名称不能为空")],types:[f("按钮编码不能为空")]},x=async()=>{await h.value.validate(),I.parentId||(I.parentId=-1);const e=I.id?m.menu.btn.edit:m.menu.btn.add;await e(I),c.success("操作成功"),U(),_.value=!1,y("getList")},U=async()=>{Object.assign(I,{...w}),h.value&&h.value.resetFields()};return V({open:async e=>{U(),_.value=!0,s((()=>{Object.assign(I,{...e})}))}}),(a,l)=>{const s=d("el-cascader"),m=d("el-form-item"),c=d("el-input"),f=d("el-switch"),V=d("el-form"),b=d("el-button"),y=d("el-dialog");return n(),t(y,{modelValue:_.value,"onUpdate:modelValue":l[6]||(l[6]=e=>_.value=e),title:""+(I.id?"编辑按钮":"新增按钮"),width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:o((()=>[u("div",v,[p(b,{onClick:l[5]||(l[5]=e=>_.value=!1)},{"default":o((()=>[r("取消")])),_:1}),p(b,{type:"primary",onClick:x},{"default":o((()=>[r("确定")])),_:1})])])),"default":o((()=>[p(V,{ref_key:"formRef",ref:h,model:I,rules:g,"label-width":"80px",onKeyup:i(x,["enter","native"])},{"default":o((()=>[p(m,{label:"上级",prop:"parentId"},{"default":o((()=>[p(s,{options:e.parentData,props:{label:"name",value:"id",checkStrictly:!0,emitPath:!1},placeholder:"请选择上级菜单",clearable:"","class":"w100",modelValue:I.parentId,"onUpdate:modelValue":l[0]||(l[0]=e=>I.parentId=e)},null,8,["options","modelValue"])])),_:1}),p(m,{label:"名称",prop:"name"},{"default":o((()=>[p(c,{modelValue:I.name,"onUpdate:modelValue":l[1]||(l[1]=e=>I.name=e),placeholder:"输入名称"},null,8,["modelValue"])])),_:1}),p(m,{label:"编码",prop:"types"},{"default":o((()=>[p(c,{modelValue:I.types,"onUpdate:modelValue":l[2]||(l[2]=e=>I.types=e),placeholder:"输入编码"},null,8,["modelValue"])])),_:1}),p(m,{label:"状态",prop:"status"},{"default":o((()=>[p(f,{modelValue:I.status,"onUpdate:modelValue":l[3]||(l[3]=e=>I.status=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),p(m,{label:"说明",prop:"description"},{"default":o((()=>[p(c,{modelValue:I.description,"onUpdate:modelValue":l[4]||(l[4]=e=>I.description=e),type:"textarea",rows:6},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])}}});export{V as default};