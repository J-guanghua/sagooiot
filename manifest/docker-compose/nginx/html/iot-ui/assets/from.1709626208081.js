import{_ as a,g as e,C as l}from"./index.1709626208081.js";import{d as t,a1 as o,k as s,aa as d,a as r,F as n,a7 as u,ah as m,o as i,R as p,S as f,Y as c,V as y}from"./vue.1709626208081.js";const b=t({name:"dossierFromData",props:{DataList:{type:Array,"default":()=>[]},disable:{type:Boolean,"default":()=>!1}},setup(a,{emit:l}){const t=e("/base-api/api/v1/common/singleFile"),r={Authorization:"Bearer "+localStorage.token},n=o({dataList:a.DataList,formData:{},disable:a.disable});s((()=>{u()}));const u=()=>{for(const a of n.dataList)n.formData[a.name]=a.value?a.value:""},m=()=>{const a=[];for(const e of n.dataList)a.push({productKey:e.productKey,name:e.name,value:n.formData[e.name],fieldName:e.fieldName});l("SetSaveData",a)};return{headers:r,uploadUrl:t,customCallback:a=>function(e){n.formData[a]=e.data.full_path,m()},saveData:m,...d(n)}},components:{Plus:l}}),D=["src"];var v=a(b,[["render",function(a,e,l,t,o,s){const d=m("el-input"),b=m("el-form-item"),v=m("el-date-picker"),h=m("Plus"),k=m("el-icon"),V=m("el-upload");return i(),r("div",null,[(i(!0),r(n,null,u(a.dataList,((l,t)=>(i(),r("div",{key:t},["input"===l.types?(i(),p(b,{key:0,label:l.title+"：",prop:l.name,"class":"form-item"},{"default":f((()=>[c(d,{modelValue:a.formData[l.name],"onUpdate:modelValue":e=>a.formData[l.name]=e,placeholder:"请输入"+l.title,onInput:e[0]||(e[0]=e=>a.saveData()),readonly:a.disable},null,8,["modelValue","onUpdate:modelValue","placeholder","readonly"])])),_:2},1032,["label","prop"])):y("",!0),"textarea"===l.types?(i(),p(b,{key:1,label:l.title+"：",prop:l.name,"class":"form-item"},{"default":f((()=>[c(d,{modelValue:a.formData[l.name],"onUpdate:modelValue":e=>a.formData[l.name]=e,type:"textarea",onInput:e[1]||(e[1]=e=>a.saveData()),readonly:a.disable},null,8,["modelValue","onUpdate:modelValue","readonly"])])),_:2},1032,["label","prop"])):y("",!0),"date"===l.types?(i(),p(b,{key:2,label:l.title+"："},{"default":f((()=>[c(v,{modelValue:a.formData[l.name],"onUpdate:modelValue":e=>a.formData[l.name]=e,"default-value":l.value,type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择时间","class":"w100",clearable:"",onChange:e[2]||(e[2]=e=>a.saveData()),readonly:a.disable},null,8,["modelValue","onUpdate:modelValue","default-value","readonly"])])),_:2},1032,["label"])):y("",!0),"file"===l.types?(i(),p(b,{key:3,label:l.title+"：",prop:"path"},{"default":f((()=>[c(V,{"class":"avatar-uploader",action:a.uploadUrl,headers:a.headers,"show-file-list":!1,"on-success":a.customCallback(l.name),disabled:a.disable},{"default":f((()=>[a.formData[l.name]?(i(),r("img",{key:0,src:a.formData[l.name],"class":"avatar"},null,8,D)):(i(),r(n,{key:1},[a.disable?y("",!0):(i(),p(k,{key:0,"class":"avatar-uploader-icon"},{"default":f((()=>[c(h)])),_:1}))],64))])),_:2},1032,["action","headers","on-success","disabled"])])),_:2},1032,["label"])):y("",!0)])))),128))])}],["__scopeId","data-v-0f6f66cf"]]);export{v as default};